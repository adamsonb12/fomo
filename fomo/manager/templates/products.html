<%inherit file="app_base.htm" />

<%block name="header_message"></%block>

<%block name="alert_block"></%block>

 <%block name="content_catalog">

 <div class="container">

	 <h1> Inventory </h1>
	  
	  	<table class="table table-striped"> 
	  		<tr>
		  		<th> Category </th>
		  		<th> Name </th>
		  		<th> Price </th>
		  		<th> Quantity </th>
		  		<th> Actions</th>
			</tr>
			
			% for p in products:
				<tr>
					<td> ${ p.category.name } </td>
					<td> ${ p.name } </td>
					<td> ${ p.price } </td>
					<td>
						%if hasattr(p, 'quantity'):
							<button data-pid="${ p.id }" class='update_quantity pull-right btn btn-info btn-sm'>Update</button>
							<span class="quantity_text" >${ p.quantity }</span>
						%else:
							-
						%endif
					</td>
					<td> 
						<a href="/manager/product/${ p.id }/">Edit</a>
						|
						<a class="delete-btn" href="/manager/product.delete/${ p.id }/">Delete</a>
					</td>
				</tr>
			% endfor
		</table>

		<a href="/manager/create/">
			<button class="btn btn-success">Create Product</button>
		</a>

	</div>

	<!-- Modal -->
	<div class="modal fade" id="deleteProductModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">Delete Product</h4>
	      </div>
	      <div class="modal-body">
	        Are you sure you want to delete this CRUD?
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
	        <a href="" id="delete-confirm" class="btn btn-danger">Confirm</a>
	      </div>
	    </div>
	  </div>
	</div>

</%block>	